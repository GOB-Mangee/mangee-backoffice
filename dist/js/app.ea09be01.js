(function(e){function t(t){for(var i,a,s=t[0],u=t[1],c=t[2],p=0,d=[];p<s.length;p++)a=s[p],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(e[i]=u[i]);l&&l(t);while(d.length)d.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,s=1;s<n.length;s++){var u=n[s];0!==r[u]&&(i=!1)}i&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},r={app:0},o=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var l=u;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var i=n("85ec"),r=n.n(i);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),r=n("8c4f"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-link",{attrs:{to:{name:"AddRecipe",params:{deploy_to:this.deploy_to}}}},[e._v("Adicionar receita")]),n("br"),n("router-link",{attrs:{to:{name:"EditRecipes",params:{deploy_to:this.deploy_to}}}},[e._v("Editar receitas existentes")]),n("router-view")],1)},a=[],s={name:"App",data:function(){return{deploy_to:"http://localhost:8000/",recipes:[]}}},u=s,c=(n("034f"),n("2877")),l=Object(c["a"])(u,o,a,!1,null,null,null),p=l.exports,d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("form",{attrs:{autocomplete:"off"},on:{submit:e.addRecipe}},[n("label",{attrs:{for:"name"}},[e._v("Nome da receita:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",name:"name",placeholder:"Nome..."},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),n("br"),n("label",{attrs:{for:"cuisine"}},[e._v("Tipo de cozinha:")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.cuisine,expression:"cuisine"}],attrs:{name:"cuisine",placeholder:"Cozinha..."},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.cuisine=t.target.multiple?n:n[0]}}},e._l(e.possilbe_cuisines,(function(t){return n("option",{key:t.name,domProps:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])})),0),n("br"),n("label",{attrs:{for:"time"}},[e._v("Tempo:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.time,expression:"time"}],attrs:{type:"number",name:"time"},domProps:{value:e.time},on:{input:function(t){t.target.composing||(e.time=t.target.value)}}}),n("br"),n("label",{attrs:{for:"difficulty"}},[e._v("Dificuldade:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.difficulty,expression:"difficulty"}],attrs:{type:"radio",name:"difficulty",value:"1"},domProps:{checked:e._q(e.difficulty,"1")},on:{change:function(t){e.difficulty="1"}}}),e._v("Fácil "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.difficulty,expression:"difficulty"}],attrs:{type:"radio",name:"difficulty",value:"2"},domProps:{checked:e._q(e.difficulty,"2")},on:{change:function(t){e.difficulty="2"}}}),e._v("Médio "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.difficulty,expression:"difficulty"}],attrs:{type:"radio",name:"difficulty",value:"3"},domProps:{checked:e._q(e.difficulty,"3")},on:{change:function(t){e.difficulty="3"}}}),e._v("Difícil "),n("br"),n("label",{attrs:{for:"description"}},[e._v("Descrição da receita:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"description"}],attrs:{type:"text",name:"description",placeholder:"Descrição..."},domProps:{value:e.description},on:{input:function(t){t.target.composing||(e.description=t.target.value)}}}),n("br"),n("label",{attrs:{for:"serves"}},[e._v("Serve quantas pessoas:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.serves,expression:"serves"}],attrs:{type:"number",name:"serves"},domProps:{value:e.serves},on:{input:function(t){t.target.composing||(e.serves=t.target.value)}}}),n("br"),n("label",{attrs:{for:"image"}},[e._v("Imagem da receita:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.image,expression:"image"}],attrs:{type:"url",name:"image"},domProps:{value:e.image},on:{input:function(t){t.target.composing||(e.image=t.target.value)}}}),n("br"),n("button",{attrs:{type:"button"},on:{click:function(t){return e.addStep()}}},[e._v("Adicionar mais um passo")]),n("br"),e._l(e.steps,(function(t){return n("div",{key:t.id+"-step"},[e._v(" "+e._s(t.id)+" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.instruction,expression:"step.instruction"}],attrs:{type:"text",name:"instruction",placeholder:"Instrução..."},domProps:{value:t.instruction},on:{input:function(n){n.target.composing||e.$set(t,"instruction",n.target.value)}}}),n("br")])})),0!=this.steps.length?n("button",{attrs:{type:"button"},on:{click:function(t){return e.removeLastStep()}}},[e._v("Eliminar último passo ")]):e._e(),n("br"),n("button",{attrs:{type:"button"},on:{click:function(t){return e.addIngredient()}}},[e._v("Adicionar mais um ingrediente")]),n("br"),e._l(e.ingredients,(function(t){return n("div",{key:t.id},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"ingredient.quantity"}],attrs:{type:"number",name:"quantity"},domProps:{value:t.quantity},on:{input:function(n){n.target.composing||e.$set(t,"quantity",n.target.value)}}}),n("select",{directives:[{name:"model",rawName:"v-model",value:t.measure,expression:"ingredient.measure"}],attrs:{name:"ingredient"},on:{change:function(n){var i=Array.prototype.filter.call(n.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"measure",n.target.multiple?i:i[0])}}},e._l(e.possible_measures,(function(i){return n("option",{key:t.id+i.name,domProps:{value:i.name}},[e._v(" "+e._s(i.name)+" ")])})),0),n("select",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"ingredient.name"}],attrs:{name:"ingredient"},on:{change:function(n){var i=Array.prototype.filter.call(n.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"name",n.target.multiple?i:i[0])}}},e._l(e.possible_ingredients,(function(i){return n("option",{key:t.id+i.name,domProps:{value:i.id}},[e._v(" "+e._s(i.name)+" ")])})),0)])})),0!=this.ingredients.length?n("button",{attrs:{type:"button"},on:{click:function(t){return e.removeLastIngredient()}}},[e._v("Eliminar último ingrediente ")]):e._e(),n("br"),n("input",{staticClass:"btn",attrs:{type:"submit",value:"Submeter"}})],2)])},m=[],f=(n("a4d3"),n("e01a"),n("4160"),n("b0c0"),n("159b"),n("bc3a")),v=n.n(f),g={name:"AddRecipe",data:function(){return{id:"",name:"",cuisine:"",description:"",difficulty:"",time:"",serves:"",image:"",steps:[],ingredients:[],possible_ingredients:[],possible_measures:[],possilbe_cuisines:[]}},props:["deploy_to"],mounted:function(){var e=this,t=v.a.get(this.deploy_to+"ingredient/"),n=v.a.get(this.deploy_to+"measure/"),i=v.a.get(this.deploy_to+"cuisine/");v.a.all([t,n,i]).then(v.a.spread((function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];e.possible_ingredients=n[0].data.results,e.possible_measures=n[1].data.results,e.possilbe_cuisines=n[2].data.results}))).catch((function(e){console.log(e)}))},methods:{convertToWordArray:function(e){var t=[];for(var n in e)t.push(e[n].name);return t},addRecipe:function(e){var t=this;e.preventDefault(),v.a.post(this.deploy_to+"recipe/",{name:this.name,image:this.image,description:this.description,difficulty:this.difficulty,serves:this.serves,cuisine:this.cuisine}).then((function(e){t.ingredients.forEach((function(n){return v.a.post(t.deploy_to+"recipe-ingredient/",{quantity:n.quantity,recipe:e.data.id,ingredient:n.name,measure:n.measure})})),t.steps.forEach((function(n){return v.a.post(t.deploy_to+"instruction/",{step:n.id,instruction_description:n.instruction,recipe:e.data.id})}))})).catch((function(e){console.log(e)}))},addStep:function(){var e={id:this.steps.length+1,instruction:""};this.steps.push(e)},removeLastStep:function(){this.steps.pop()},addIngredient:function(){var e={id:this.ingredients.length,name:"",measure:"",quantity:""};this.ingredients.push(e)},removeLastIngredient:function(){this.ingredients.pop()}}},y=g,h=Object(c["a"])(y,d,m,!1,null,"1da377fb",null),_=h.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",[e._v(" RECEITAS ")]),e._l(e.recipes,(function(t){return n("div",{key:t.id},[n("RecipeItem",{attrs:{recipe:t},on:{"del-recipe":e.deleteRecipe}})],1)}))],2)},x=[],w=(n("4de4"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",[e._v(" "+e._s(e.recipe.name)+" "),n("button",{on:{click:function(t){return e.$emit("del-recipe",e.recipe.id)}}},[e._v("x")])])])}),P=[],k={name:"RecipeItem",props:["recipe"]},N=k,O=Object(c["a"])(N,w,P,!1,null,"59d61762",null),R=O.exports,j={name:"Recipes",components:{RecipeItem:R},props:["deploy_to"],data:function(){return{recipes:[]}},mounted:function(){var e=this;v.a.get(this.deploy_to+"recipe/").then((function(t){return e.recipes=t.data.results})).catch((function(e){console.log(e)}))},methods:{deleteRecipe:function(e){v.a.delete(this.deploy_to+"recipe/"+e).then(this.recipes=this.recipes.filter((function(t){return t.id!=e}))).catch((function(e){console.log(e)}))}}},A=j,E=Object(c["a"])(A,b,x,!1,null,"1fa7f835",null),q=E.exports;i["a"].config.productionTip=!1,i["a"].use(r["a"]);var S=[{path:"/add",name:"AddRecipe",component:_,props:!0},{path:"/edit",name:"EditRecipes",component:q,props:!0}],I=new r["a"]({routes:S});new i["a"]({render:function(e){return e(p)},router:I}).$mount("#app")},"85ec":function(e,t,n){}});
//# sourceMappingURL=app.ea09be01.js.map